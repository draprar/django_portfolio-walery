{% extends "core/base.html" %}
{% load static %}

{% block title %}Document Diff Tool | Walery{% endblock %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4 text-center" data-en=" Document Diff Tool" data-pl=" Narzdzie por贸wnujce dokumenty">
     Document Diff Tool
  </h2>
  <p class="text-muted text-center"
     data-en="Compare two DOCX, XLSX or TXT files with AI-powered difference detection."
     data-pl="Por贸wnaj dwa pliki DOCX, XLSX lub TXT z analiz r贸偶nic wspieran przez AI.">
     Compare two DOCX, XLSX or TXT files with AI-powered difference detection.
  </p>

  {% if error_code %}
    <div class="alert alert-danger text-center"
       id="docdiff-error"
       data-error="{{ error_code }}">
    </div>
  {% endif %}

  <form method="POST" enctype="multipart/form-data" class="p-4 rounded shadow-sm bg-light">
    {% csrf_token %}
    <div class="mb-3">
      <label for="file_old" class="form-label"
             data-en="Old version"
             data-pl="Stara wersja">Old version</label>
      <input type="file" name="file_old" id="file_old" accept=".docx,.xlsx,.txt" class="form-control" required>
    </div>
    <div class="mb-3">
      <label for="file_new" class="form-label"
             data-en="New version"
             data-pl="Nowa wersja">New version</label>
      <input type="file" name="file_new" id="file_new" accept=".docx,.xlsx,.txt" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-dark w-100"
            data-en="Compare documents"
            data-pl="Por贸wnaj dokumenty">Compare documents</button>
  </form>
</div>

<div id="docdiff-messages" class="d-none">
  <span data-key="missing_files"
        data-en="Please upload both files."
        data-pl="Wgraj oba pliki."></span>

  <span data-key="format_mismatch"
        data-en="Both files must have the same format."
        data-pl="Oba pliki musz mie ten sam format."></span>

  <span data-key="extract_failed"
        data-en="Failed to read document content. File may be corrupted."
        data-pl="Nie udao si odczyta pliku. Mo偶e by uszkodzony."></span>

  <span data-key="empty_documents"
        data-en="No readable content found in documents."
        data-pl="Nie znaleziono czytelnej treci w dokumentach."></span>

  <span data-key="too_many_changes"
        data-en="Too many changes to analyze. Try smaller documents."
        data-pl="Za du偶o zmian do analizy. Spr贸buj mniejszych dokument贸w."></span>

  <span data-key="unsupported_type"
        data-en="Unsupported file type."
        data-pl="Nieobsugiwany typ pliku."></span>

  <span data-key="file_too_large"
        data-en="File is too large (max 10 MB)."
        data-pl="Plik jest za du偶y (maks. 10 MB)."></span>

  <span data-key="mime_invalid"
        data-en="Invalid file MIME type."
        data-pl="Nieprawidowy typ MIME pliku."></span>
</div>

<script src="{% static 'docdiff/js/docdiff.js' %}" defer></script>
{% endblock %}
